{"version":3,"sources":["../react_components/PaginationBoxView.js"],"names":["PaginationBoxView","props","handlePreviousPage","evt","preventDefault","returnValue","changeSelected","handlePageSelected","handleNextPage","pageNum","selected","setState","callCallback","selectedItem","clickCallback","pagination","items","pageRangeDisplayed","index","bind","pageClassName","pageLinkClassName","activeClassName","leftSide","rightSide","page","breakView","pageView","marginPagesDisplayed","keys","Object","breakLabelKey","length","breakLabelValue","breakLabel","breakClassName","state","initialSelected","forceSelected","nextProps","disabled","disabledClassName","prevContainer","nextContainer","nextDisabled","prevDisabled","previousClasses","previousClassName","nextClasses","nextClassName","nextLinkClassName","nextLabel","previousLinkClassName","previousLabel","containerClassName","propTypes","number","isRequired","node","func","string","defaultProps"],"mappings":"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","file":"PaginationBoxView.js","sourcesContent":["\nimport React, { Component, PropTypes } from 'react';\nimport classNames from 'classnames';\n\nimport createFragment from 'react-addons-create-fragment';\nimport PageView from './PageView';\nimport BreakView from './BreakView';\n\n\nexport default class PaginationBoxView extends Component {\n  static propTypes = {\n    pageNum               : PropTypes.number.isRequired,\n    pageRangeDisplayed    : PropTypes.number.isRequired,\n    marginPagesDisplayed  : PropTypes.number.isRequired,\n    previousLabel         : PropTypes.node,\n    nextLabel             : PropTypes.node,\n    breakLabel            : PropTypes.node,\n    clickCallback         : PropTypes.func,\n    changeSelected        : PropTypes.func,\n    initialSelected       : PropTypes.number,\n    forceSelected         : PropTypes.number,\n    containerClassName    : PropTypes.string,\n    pageClassName         : PropTypes.string,\n    pageLinkClassName     : PropTypes.string,\n    activeClassName       : PropTypes.string,\n    previousClassName     : PropTypes.string,\n    nextClassName         : PropTypes.string,\n    previousLinkClassName : PropTypes.string,\n    nextLinkClassName     : PropTypes.string,\n    disabledClassName     : PropTypes.string,\n    breakClassName        : PropTypes.string\n  };\n\n  static defaultProps = {\n    pageNum              : 10,\n    pageRangeDisplayed   : 2,\n    marginPagesDisplayed : 3,\n    activeClassName      : \"selected\",\n    previousClassName    : \"previous\",\n    nextClassName        : \"next\",\n    previousLabel        : \"Previous\",\n    nextLabel            : \"Next\",\n    breakLabel           : \"...\",\n    disabledClassName    : \"disabled\"\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: props.initialSelected ? props.initialSelected :\n                props.forceSelected   ? props.forceSelected :\n                0\n    };\n  }\n\n  componentDidMount() {\n    // Call the callback with the initialSelected item:\n    if (typeof(this.props.initialSelected) !== 'undefined') {\n      this.callCallback(this.props.initialSelected);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (typeof(nextProps.forceSelected) !== 'undefined' && this.props.forceSelected !== nextProps.forceSelected) {\n      this.setState({selected: nextProps.forceSelected});\n    }\n  }\n\n  handlePreviousPage = evt => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n    if (this.props.changeSelected() > 0) {\n      this.handlePageSelected(this.props.changeSelected() - 1, evt);\n    }\n  };\n\n  handleNextPage = evt => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n    if (this.props.changeSelected() < this.props.pageNum - 1) {\n      this.handlePageSelected(this.props.changeSelected() + 1, evt);\n    }\n  };\n\n  handlePageSelected = (selected, evt) => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n\n    if (this.props.changeSelected() === selected) return;\n\n    this.setState({selected: selected});\n\n    // Call the callback with the new selected item:\n    this.callCallback(selected);\n  };\n\n  callCallback = (selectedItem) => {\n    if (typeof(this.props.clickCallback) !== \"undefined\" &&\n        typeof(this.props.clickCallback) === \"function\") {\n      this.props.clickCallback({selected: selectedItem});\n    }\n  };\n\n  pagination = () => {\n    let items = {};\n\n    if (this.props.pageNum <= this.props.pageRangeDisplayed) {\n\n      for (let index = 0; index < this.props.pageNum; index++) {\n        items['key' + index] = <PageView\n          onClick={this.handlePageSelected.bind(null, index)}\n          selected={this.props.changeSelected() === index}\n          pageClassName={this.props.pageClassName}\n          pageLinkClassName={this.props.pageLinkClassName}\n          activeClassName={this.props.activeClassName}\n          page={index + 1} />\n      }\n\n    } else {\n\n      let leftSide  = (this.props.pageRangeDisplayed / 2);\n      let rightSide = (this.props.pageRangeDisplayed - leftSide);\n\n      if (this.props.changeSelected() > this.props.pageNum - this.props.pageRangeDisplayed / 2) {\n        rightSide = this.props.pageNum - this.props.changeSelected();\n        leftSide  = this.props.pageRangeDisplayed - rightSide;\n      }\n      else if (this.props.changeSelected() < this.props.pageRangeDisplayed / 2) {\n        leftSide  = this.props.changeSelected();\n        rightSide = this.props.pageRangeDisplayed - leftSide;\n      }\n\n      let index;\n      let page;\n      let breakView;\n\n      for (index = 0; index < this.props.pageNum; index++) {\n\n        page = index + 1;\n\n        let pageView = (\n          <PageView\n            onClick={this.handlePageSelected.bind(null, index)}\n            selected={this.props.changeSelected() === index}\n            pageClassName={this.props.pageClassName}\n            pageLinkClassName={this.props.pageLinkClassName}\n            activeClassName={this.props.activeClassName}\n            page={index + 1} />\n        );\n\n        if (page <= this.props.marginPagesDisplayed) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        if (page > this.props.pageNum - this.props.marginPagesDisplayed) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        if ((index >= this.props.changeSelected() - leftSide) && (index <= this.props.changeSelected() + rightSide)) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        let keys            = Object.keys(items);\n        let breakLabelKey   = keys[keys.length - 1];\n        let breakLabelValue = items[breakLabelKey];\n\n        if (this.props.breakLabel && breakLabelValue !== breakView) {\n          breakView = (\n            <BreakView\n              breakLabel={this.props.breakLabel}\n              breakClassName={this.props.breakClassName}\n            />\n          );\n\n          items['key' + index] = breakView;\n        }\n      }\n    }\n\n    return items;\n  };\n\n  render() {\n    let disabled = this.props.disabledClassName;\n    let prevContainer;\n    let nextContainer;\n    const nextDisabled = this.props.changeSelected() === this.props.pageNum - 1;\n    const prevDisabled = this.props.changeSelected() === 0;\n\n    const previousClasses = classNames(this.props.previousClassName,\n                                       {[disabled]: prevDisabled});\n\n    const nextClasses = classNames(this.props.nextClassName,\n                                   {[disabled]: nextDisabled});\n\n    if(nextDisabled) {\n      nextContainer = (<span className={this.props.nextLinkClassName}>{this.props.nextLabel}</span>);\n    } else {\n      nextContainer = (<a className={this.props.nextLinkClassName}>{this.props.nextLabel}</a>);\n    }\n\n    if(prevDisabled) {\n      prevContainer = (<span className={this.props.previousLinkClassName}>{this.props.previousLabel}</span>);\n    } else {\n      prevContainer = (<a className={this.props.previousLinkClassName}>{this.props.previousLabel}</a>);\n    }\n\n\n    return (\n      <ul className={this.props.containerClassName}>\n        <li onClick={this.handlePreviousPage} className={previousClasses}>\n          {prevContainer}\n        </li>\n\n        {createFragment(this.pagination())}\n\n        <li onClick={this.handleNextPage} className={nextClasses}>\n          {nextContainer}\n        </li>\n      </ul>\n    );\n  }\n};\n"]}